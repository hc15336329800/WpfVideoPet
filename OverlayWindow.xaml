<Window x:Class="WpfVideoPet.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:h="clr-namespace:HelixToolkit.Wpf;assembly=HelixToolkit.Wpf"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStyle="None"
        ShowActivated="False"
        ShowInTaskbar="False"
        Topmost="True"
        ResizeMode="NoResize"
        Focusable="False">

    <!-- Grid 主容器，禁止鼠标交互（悬浮展示层） -->
    <Grid IsHitTestVisible="False">

        <!-- 🟦 左上角天气信息面板 -->
        <Border HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="16"
                Padding="10"
                CornerRadius="8"
                Background="#66000000">
            <StackPanel>
                <TextBlock x:Name="TxtCity" Text="城市: -" Foreground="White" FontSize="16" FontWeight="Bold"/>
                <TextBlock x:Name="TxtWeather" Text="天气: -" Foreground="White" FontSize="14"/>
                <TextBlock x:Name="TxtTemp" Text="气温: -" Foreground="White" FontSize="14"/>
                <TextBlock x:Name="TxtTime" Text="时间: -" Foreground="White" FontSize="12" Opacity="0.9"/>
            </StackPanel>
        </Border>


        <!-- 🟥 右下角 3D 模型区域（AI 虚拟人或宠物展示区） -->
        <Border HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="16"
                Background="#00000000">
            <!-- 叠加层 Grid：同时容纳 3D 模型和对话气泡 -->
            <Grid Width="300" Height="300">

                <!-- 内层 Grid，用于放置 HelixToolkit 3D 模型视图 -->
                <Grid HorizontalAlignment="Right"
                      VerticalAlignment="Bottom"
                      Width="300"
                      Height="300">

                    <!-- Viewbox 自动缩放 3D 内容至容器 -->
                    <Viewbox Stretch="Fill"
                             StretchDirection="Both">
                        <Grid>

                            <!-- HelixViewport3D：HelixToolkit 3D 渲染核心组件 -->
                            <h:HelixViewport3D x:Name="PetView"
                                               ShowFrameRate="False"
                                               ShowViewCube="False"
                                               ZoomExtentsWhenLoaded="True"
                                               Background="#00FFFFFF">
                                <h:DefaultLights/>

                                <!-- 3D 模型容器 -->
                                <ModelVisual3D>
                                    <ModelVisual3D.Content>
                                        <Model3DGroup x:Name="PetModel">
                                            <AmbientLight Color="#666666"/>
                                            <DirectionalLight Color="White" Direction="-1,-1,-2"/>
                                            <GeometryModel3D x:Name="Cube">
                                                <GeometryModel3D.Geometry>
                                                    <MeshGeometry3D Positions="-0.5,-0.5,-0.5  0.5,-0.5,-0.5  0.5,0.5,-0.5 -0.5,0.5,-0.5 -0.5,-0.5,0.5  0.5,-0.5,0.5  0.5,0.5,0.5 -0.5,0.5,0.5"
                                                                    TriangleIndices="0 1 2 0 2 3  1 5 6 1 6 2  5 4 7 5 7 6  4 0 3 4 3 7  3 2 6 3 6 7  4 5 1 4 1 0" />
                                                </GeometryModel3D.Geometry>
                                                <GeometryModel3D.Material>
                                                    <DiffuseMaterial Brush="#FF01ADA8"/>
                                                </GeometryModel3D.Material>
                                                <GeometryModel3D.Transform>
                                                    <RotateTransform3D>
                                                        <RotateTransform3D.Rotation>
                                                            <AxisAngleRotation3D x:Name="CubeRotation" Axis="0,1,0" Angle="0"/>
                                                        </RotateTransform3D.Rotation>
                                                    </RotateTransform3D>
                                                </GeometryModel3D.Transform>
                                            </GeometryModel3D>
                                        </Model3DGroup>
                                    </ModelVisual3D.Content>
                                </ModelVisual3D>
                            </h:HelixViewport3D>
                        </Grid>
                    </Viewbox>

                    <!-- 💬 对话提示气泡区域 -->
                    <Border x:Name="NotificationBorder"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            Margin="-12,-80,0,0"
                            Padding="14,10,14,12"
                            CornerRadius="10"
                            Background="#F0333333"
                            Visibility="Collapsed">
                        <!-- 对话气泡正文区域，展示唤醒提示文本。 -->
                        <StackPanel Orientation="Vertical" MaxWidth="240">
                            <TextBlock x:Name="TxtNotificationTitle"
                                       Text="AI 助手"
                                       Foreground="#FF8EE7FF"
                                       FontSize="14"
                                       FontWeight="Bold"
                                       Margin="0,0,0,4"/>
                            <TextBlock x:Name="TxtNotification"
                                       Foreground="White"
                                       FontSize="18"
                                       FontWeight="SemiBold"
                                       TextWrapping="Wrap"
                                       TextAlignment="Left"
                                       Text=""/>
                        </StackPanel>
                    </Border>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>