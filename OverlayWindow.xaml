<Window x:Class="WpfVideoPet.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:hx="clr-namespace:HelixToolkit.Wpf.SharpDX;assembly=HelixToolkit.Wpf.SharpDX"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStyle="None"
        ShowActivated="False"
        ShowInTaskbar="False"
        Topmost="True"
        ResizeMode="NoResize"
        Focusable="False">

    <!-- Grid 主容器，禁止鼠标交互（悬浮展示层） -->
    <Grid IsHitTestVisible="False">

        <!-- 🟦 左上角天气信息面板 -->
        <Border HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="16"
                Padding="10"
                CornerRadius="8"
                Background="#66000000">
            <StackPanel>
                <TextBlock x:Name="TxtCity" Text="城市: -" Foreground="White" FontSize="16" FontWeight="Bold"/>
                <TextBlock x:Name="TxtWeather" Text="天气: -" Foreground="White" FontSize="14"/>
                <TextBlock x:Name="TxtTemp" Text="气温: -" Foreground="White" FontSize="14"/>
                <TextBlock x:Name="TxtTime" Text="时间: -" Foreground="White" FontSize="12" Opacity="0.9"/>
            </StackPanel>
        </Border>

        <!-- 🟥 右下角 3D 模型区域（AI 虚拟人或宠物展示区） -->
        <Border HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="16"
                Background="#00000000">
            <!-- 叠加层 Grid：承载 3D 模型展示区域 -->
            <Grid Width="300" Height="300">
                <Grid HorizontalAlignment="Right"
                      VerticalAlignment="Bottom"
                      Width="300"
                      Height="300">

                    <!-- Viewbox 自动缩放 3D 内容至容器 -->
                    <Viewbox Stretch="Fill" StretchDirection="Both">
                        <Grid>

                            <!-- 【修改点】DX11 视口控件（替换原 HelixViewport3D） -->
                            <hx:Viewport3DX x:Name="PetViewDx"
                                            ShowFrameRate="False"
                                            EnableOrderIndependentTransparentRendering="True"
                                            ZoomExtentsWhenLoaded="True"
                                            Background="#00FFFFFF">
                                <!-- 摄像机（可选，给个合理默认） -->
                                <hx:PerspectiveCamera x:Name="Camera"
                                                      Position="0,1.5,3.5"
                                                      LookDirection="0,-0.5,-3.5"
                                                      UpDirection="0,1,0"
                                                      FieldOfView="45"/>

                                <!-- 灯光：方向光 + 环境光 -->
                                <hx:DirectionalLight3D Direction="-1,-1,-2" Color="White"/>
                                <hx:AmbientLight3D Color="#666666"/>

                                <!-- 3D 模型容器（代码里向这里添加 SceneNode） -->
                                <hx:GroupModel3D x:Name="SceneRoot"/>
                            </hx:Viewport3DX>

                        </Grid>
                    </Viewbox>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</Window>
