<Window x:Class="WpfVideoPet.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
        xmlns:h="clr-namespace:HelixToolkit.Wpf;assembly=HelixToolkit.Wpf"
        Title="VideoPet" WindowState="Maximized" WindowStyle="None" Background="Black" KeyDown="Window_KeyDown">
    <Grid ClipToBounds="False">

        <!-- 1) 视频层 -->
        <vlc:VideoView x:Name="VideoView" Panel.ZIndex="0" Background="Transparent"/>

        <!-- 2) 左上角天气叠加 -->
        <Border HorizontalAlignment="Left" VerticalAlignment="Top" Margin="16" Padding="10" CornerRadius="8" Background="#66000000" Panel.ZIndex="9999" IsHitTestVisible="False">
            <StackPanel>
                <TextBlock x:Name="TxtCity" Text="城市: -" Foreground="White" FontSize="16" FontWeight="Bold"/>
                <TextBlock x:Name="TxtWeather" Text="天气: -" Foreground="White" FontSize="14"/>
                <TextBlock x:Name="TxtTemp" Text="气温: -" Foreground="White" FontSize="14"/>
                <TextBlock x:Name="TxtTime" Text="时间: -" Foreground="White" FontSize="12" Opacity="0.9"/>
            </StackPanel>
        </Border>

        <!-- 3) 右下角 3D 宠物（悬浮） -->
        <Border HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="16" Background="#00000000" Panel.ZIndex="9999" IsHitTestVisible="False">
            <Viewbox Width="260" Height="180">
                <Grid>
                    <h:HelixViewport3D x:Name="PetView" ShowFrameRate="False" ShowViewCube="False" ZoomExtentsWhenLoaded="True" Background="#00FFFFFF">
                        <h:DefaultLights/>
                        <ModelVisual3D>
                            <ModelVisual3D.Content>
                                <Model3DGroup x:Name="PetModel">
                                    <AmbientLight Color="#666666"/>
                                    <DirectionalLight Color="White" Direction="-1,-1,-2"/>
                                    <GeometryModel3D x:Name="Cube">
                                        <GeometryModel3D.Geometry>
                                            <MeshGeometry3D Positions="-0.5,-0.5,-0.5  0.5,-0.5,-0.5  0.5,0.5,-0.5 -0.5,0.5,-0.5 -0.5,-0.5,0.5  0.5,-0.5,0.5  0.5,0.5,0.5 -0.5,0.5,0.5"
                                                               TriangleIndices="0 1 2 0 2 3  1 5 6 1 6 2  5 4 7 5 7 6  4 0 3 4 3 7  3 2 6 3 6 7  4 5 1 4 1 0" />
                                        </GeometryModel3D.Geometry>
                                        <GeometryModel3D.Material>
                                            <DiffuseMaterial Brush="#FF01ADA8"/>
                                        </GeometryModel3D.Material>
                                        <GeometryModel3D.Transform>
                                            <RotateTransform3D>
                                                <RotateTransform3D.Rotation>
                                                    <AxisAngleRotation3D x:Name="CubeRotation" Axis="0,1,0" Angle="0"/>
                                                </RotateTransform3D.Rotation>
                                            </RotateTransform3D>
                                        </GeometryModel3D.Transform>
                                    </GeometryModel3D>
                                </Model3DGroup>
                            </ModelVisual3D.Content>
                        </ModelVisual3D>
                    </h:HelixViewport3D>
                </Grid>
            </Viewbox>
        </Border>

        <!-- 4) 控制条 -->
        <DockPanel VerticalAlignment="Bottom" Background="#66000000" Height="56" Panel.ZIndex="10">
            <StackPanel Orientation="Horizontal" Margin="12,0" VerticalAlignment="Center">
                <Button Content="打开" Click="BtnOpen_Click" Margin="0,0,8,0" Padding="10,4"/>
                <Button Content="播放" Click="BtnPlay_Click" Margin="0,0,8,0" Padding="10,4"/>
                <Button Content="暂停" Click="BtnPause_Click" Margin="0,0,8,0" Padding="10,4"/>
                <Button Content="停止" Click="BtnStop_Click" Margin="0,0,8,0" Padding="10,4"/>
                <TextBlock Text="音量" Foreground="White" Margin="12,0,6,0" VerticalAlignment="Center"/>
                <Slider x:Name="SldVolume" Minimum="0" Maximum="100" Width="140" ValueChanged="SldVolume_ValueChanged" VerticalAlignment="Center"/>
            </StackPanel>
        </DockPanel>
    </Grid>
</Window>
